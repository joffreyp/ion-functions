
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="..">
      
      
        <link rel="next" href="../qc-tests/">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.11">
    
    
      
        <title>Reference - Ocean Observatories Initiative Ion Functions</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.4af4bdda.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#ion-functions-reference" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Ocean Observatories Initiative Ion Functions" class="md-header__button md-logo" aria-label="Ocean Observatories Initiative Ion Functions" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Ocean Observatories Initiative Ion Functions
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Reference
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Ocean Observatories Initiative Ion Functions" class="md-nav__button md-logo" aria-label="Ocean Observatories Initiative Ion Functions" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Ocean Observatories Initiative Ion Functions
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Ion Functions Overview
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Reference
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Reference
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#ctd-functions" class="md-nav__link">
    <span class="md-ellipsis">
      CTD Functions
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ion_functions.data.ctd_functions" class="md-nav__link">
    <span class="md-ellipsis">
      ctd_functions
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ion_functions.data.ctd_functions.ctd_density" class="md-nav__link">
    <span class="md-ellipsis">
      ctd_density
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ion_functions.data.ctd_functions.ctd_glider_preswat" class="md-nav__link">
    <span class="md-ellipsis">
      ctd_glider_preswat
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ion_functions.data.ctd_functions.ctd_pracsal" class="md-nav__link">
    <span class="md-ellipsis">
      ctd_pracsal
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ion_functions.data.ctd_functions.ctd_sbe16digi_preswat" class="md-nav__link">
    <span class="md-ellipsis">
      ctd_sbe16digi_preswat
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ion_functions.data.ctd_functions.ctd_sbe16plus_condwat" class="md-nav__link">
    <span class="md-ellipsis">
      ctd_sbe16plus_condwat
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ion_functions.data.ctd_functions.ctd_sbe16plus_preswat" class="md-nav__link">
    <span class="md-ellipsis">
      ctd_sbe16plus_preswat
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ion_functions.data.ctd_functions.ctd_sbe16plus_tempwat" class="md-nav__link">
    <span class="md-ellipsis">
      ctd_sbe16plus_tempwat
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ion_functions.data.ctd_functions.ctd_sbe37im_condwat" class="md-nav__link">
    <span class="md-ellipsis">
      ctd_sbe37im_condwat
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ion_functions.data.ctd_functions.ctd_sbe37im_condwat_instrument_recovered" class="md-nav__link">
    <span class="md-ellipsis">
      ctd_sbe37im_condwat_instrument_recovered
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ion_functions.data.ctd_functions.ctd_sbe37im_preswat" class="md-nav__link">
    <span class="md-ellipsis">
      ctd_sbe37im_preswat
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ion_functions.data.ctd_functions.ctd_sbe37im_preswat_instrument_recovered" class="md-nav__link">
    <span class="md-ellipsis">
      ctd_sbe37im_preswat_instrument_recovered
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ion_functions.data.ctd_functions.ctd_sbe37im_tempwat" class="md-nav__link">
    <span class="md-ellipsis">
      ctd_sbe37im_tempwat
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ion_functions.data.ctd_functions.ctd_sbe37im_tempwat_instrument_recovered" class="md-nav__link">
    <span class="md-ellipsis">
      ctd_sbe37im_tempwat_instrument_recovered
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ion_functions.data.ctd_functions.ctd_sbe52mp_condwat" class="md-nav__link">
    <span class="md-ellipsis">
      ctd_sbe52mp_condwat
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ion_functions.data.ctd_functions.ctd_sbe52mp_preswat" class="md-nav__link">
    <span class="md-ellipsis">
      ctd_sbe52mp_preswat
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ion_functions.data.ctd_functions.ctd_sbe52mp_tempwat" class="md-nav__link">
    <span class="md-ellipsis">
      ctd_sbe52mp_tempwat
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../qc-tests/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    QC/Testing
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#ctd-functions" class="md-nav__link">
    <span class="md-ellipsis">
      CTD Functions
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ion_functions.data.ctd_functions" class="md-nav__link">
    <span class="md-ellipsis">
      ctd_functions
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ion_functions.data.ctd_functions.ctd_density" class="md-nav__link">
    <span class="md-ellipsis">
      ctd_density
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ion_functions.data.ctd_functions.ctd_glider_preswat" class="md-nav__link">
    <span class="md-ellipsis">
      ctd_glider_preswat
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ion_functions.data.ctd_functions.ctd_pracsal" class="md-nav__link">
    <span class="md-ellipsis">
      ctd_pracsal
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ion_functions.data.ctd_functions.ctd_sbe16digi_preswat" class="md-nav__link">
    <span class="md-ellipsis">
      ctd_sbe16digi_preswat
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ion_functions.data.ctd_functions.ctd_sbe16plus_condwat" class="md-nav__link">
    <span class="md-ellipsis">
      ctd_sbe16plus_condwat
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ion_functions.data.ctd_functions.ctd_sbe16plus_preswat" class="md-nav__link">
    <span class="md-ellipsis">
      ctd_sbe16plus_preswat
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ion_functions.data.ctd_functions.ctd_sbe16plus_tempwat" class="md-nav__link">
    <span class="md-ellipsis">
      ctd_sbe16plus_tempwat
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ion_functions.data.ctd_functions.ctd_sbe37im_condwat" class="md-nav__link">
    <span class="md-ellipsis">
      ctd_sbe37im_condwat
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ion_functions.data.ctd_functions.ctd_sbe37im_condwat_instrument_recovered" class="md-nav__link">
    <span class="md-ellipsis">
      ctd_sbe37im_condwat_instrument_recovered
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ion_functions.data.ctd_functions.ctd_sbe37im_preswat" class="md-nav__link">
    <span class="md-ellipsis">
      ctd_sbe37im_preswat
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ion_functions.data.ctd_functions.ctd_sbe37im_preswat_instrument_recovered" class="md-nav__link">
    <span class="md-ellipsis">
      ctd_sbe37im_preswat_instrument_recovered
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ion_functions.data.ctd_functions.ctd_sbe37im_tempwat" class="md-nav__link">
    <span class="md-ellipsis">
      ctd_sbe37im_tempwat
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ion_functions.data.ctd_functions.ctd_sbe37im_tempwat_instrument_recovered" class="md-nav__link">
    <span class="md-ellipsis">
      ctd_sbe37im_tempwat_instrument_recovered
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ion_functions.data.ctd_functions.ctd_sbe52mp_condwat" class="md-nav__link">
    <span class="md-ellipsis">
      ctd_sbe52mp_condwat
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ion_functions.data.ctd_functions.ctd_sbe52mp_preswat" class="md-nav__link">
    <span class="md-ellipsis">
      ctd_sbe52mp_preswat
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ion_functions.data.ctd_functions.ctd_sbe52mp_tempwat" class="md-nav__link">
    <span class="md-ellipsis">
      ctd_sbe52mp_tempwat
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="ion-functions-reference">Ion Functions Reference</h1>
<h2 id="ctd-functions">CTD Functions</h2>


<div class="doc doc-object doc-module">



<a id="ion_functions.data.ctd_functions"></a>
    <div class="doc doc-contents first">

        <p>Theory (Added by M. Palanza 4/8/2025)
Absolute pressure is one of the variables directly measured by CTD instruments and is calculated from the raw hexadecimal data provided by the instrument. The SBE 16plusV2 model will output “raw frequencies and voltages in hexadecimal" as it is referred to in the Sea-Bird manuals. The 37IM model will output “engineering units in Hex”. This requires that the L0 pressure data product, which is a hexadecimal string, be converted to decimal and scaled according to the CTD manual (different for each CTD make/model). Conversion and scaling (described herein) results in sea pressure in decibars (dbar). Note that the data product is named Pressure (Depth) because, though depth is not calculated, 1 dbar in pressure is approximately equal to one meter in depth.</p>
<p>It is worth noting that sea pressure is not exactly the same as the hydrostatic pressure of the water column. The CTD’s internal pressure sensor measures absolute pressure: the pressure of the water column (hydrostatic pressure) plus the current atmospheric pressure at the sea surface. Sea pressure is calculated by the CTD’s internal software by subtracting one standard atmosphere from the measured absolute pressure. Because the actual atmospheric pressure is not necessarily exactly one standard atmosphere, sea pressure is not necessarily identical to the hydrostatic pressure. Also, Sea-Bird uses a slightly different constant for one atmosphere: according to their manuals, the CTDs internal software converts absolute pressure to sea pressure by subtracting 14.7 psi * 0.689476 dbar/psi = 10.1352972 dbar. This is different from the TEOS-10 standard atmospheric pressure of 101325 Pa or 10.1325 dbar. Sea pressure is the pressure measurement that is provided by the CTD (in hex and with some scaling) when the output format is set to deliver the data in “engineering units”, as it is for the 37 IM CTDs. Therefore to back calculate absolute pressure in psia from dbar for the 37 IM data, use the Sea-Bird-specified conversion: 
                        P37IM (psia) = [P37IM (dbar) / 0.689476] + 14.7
The conversion between psia and dbar for the 16plusV2 follows the TEOS-10 conventions using a “standard atmosphere”:
                        P16plusV2 (dbar) = [0.689475729 * P16plusV2 (psia)] - 10.1325</p>
<p>Note that the raw data from the GPCTD make/model—the CTDs on board the gliders and autonomous underwater vehicles (AUVs)—are processed onboard the vehicles with proprietary software from the vehicle vendors. These data are presented already in decimal format in appropriate units (°C, Siemens/meter, decibars), therefore processing raw hexadecimal data from the CTDGP is not included in the algorithm described in this document.</p>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h2 id="ion_functions.data.ctd_functions.ctd_density" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">ctd_density</span><span class="p">(</span><span class="n">SP</span><span class="p">,</span> <span class="n">t</span><span class="p">,</span> <span class="n">p</span><span class="p">,</span> <span class="n">lat</span><span class="p">,</span> <span class="n">lon</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Description:</p>
<pre><code>OOI Level 2 Density core data product, which is calculated using the
Thermodynamic Equations of Seawater - 2010 (TEOS-10) Version 3.0, with
data from the conductivity, temperature and depth (CTD) family of
instruments.
</code></pre>
<p>Implemented by:</p>
<pre><code>2013-03-11: Christopher Mueller. Initial code.
2013-03-13: Christopher Wingard. Added commenting and moved to
    ctd_functions
2013-05-10: Christopher Wingard. Minor edits to comments.
2014-01-31: Russell Desiderio. Standardized comment format.
2023-08-15: Samuel Dahlberg. Replaced incompatible pygsw with GSW library.
</code></pre>
<p>Usage:</p>
<pre><code>rho = ctd_density(SP, t, p, lat, lon)

    where

rho = sea water density (DENSITY_L2) [kg m-3]
SP = practical salinity PSS-78 (PRACSAL_L2) [unitless]
t = sea water temperature (TEMPWAT_L1) [deg_C]
p = sea water pressure (PRESWAT_L1) [dbar]
lat = latitude where input data was collected [decimal degree]
lon = longitude where input data was collected [decimal degree]
</code></pre>
<p>References:</p>
<pre><code>OOI (2012). Data Product Specification for Density. Document Control
    Number 1341-00050. https://alfresco.oceanobservatories.org/ (See:
    Company Home &gt;&gt; OOI &gt;&gt; Controlled &gt;&gt; 1000 System Level &gt;&gt;
    1341-00050_Data_Product_SPEC_DENSITY_OOI.pdf)
</code></pre>

            <details class="quote">
              <summary>Source code in <code>ion_functions/data/ctd_functions.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">723</span>
<span class="normal">724</span>
<span class="normal">725</span>
<span class="normal">726</span>
<span class="normal">727</span>
<span class="normal">728</span>
<span class="normal">729</span>
<span class="normal">730</span>
<span class="normal">731</span>
<span class="normal">732</span>
<span class="normal">733</span>
<span class="normal">734</span>
<span class="normal">735</span>
<span class="normal">736</span>
<span class="normal">737</span>
<span class="normal">738</span>
<span class="normal">739</span>
<span class="normal">740</span>
<span class="normal">741</span>
<span class="normal">742</span>
<span class="normal">743</span>
<span class="normal">744</span>
<span class="normal">745</span>
<span class="normal">746</span>
<span class="normal">747</span>
<span class="normal">748</span>
<span class="normal">749</span>
<span class="normal">750</span>
<span class="normal">751</span>
<span class="normal">752</span>
<span class="normal">753</span>
<span class="normal">754</span>
<span class="normal">755</span>
<span class="normal">756</span>
<span class="normal">757</span>
<span class="normal">758</span>
<span class="normal">759</span>
<span class="normal">760</span>
<span class="normal">761</span>
<span class="normal">762</span>
<span class="normal">763</span>
<span class="normal">764</span>
<span class="normal">765</span>
<span class="normal">766</span>
<span class="normal">767</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">ctd_density</span><span class="p">(</span><span class="n">SP</span><span class="p">,</span> <span class="n">t</span><span class="p">,</span> <span class="n">p</span><span class="p">,</span> <span class="n">lat</span><span class="p">,</span> <span class="n">lon</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Description:</span>

<span class="sd">        OOI Level 2 Density core data product, which is calculated using the</span>
<span class="sd">        Thermodynamic Equations of Seawater - 2010 (TEOS-10) Version 3.0, with</span>
<span class="sd">        data from the conductivity, temperature and depth (CTD) family of</span>
<span class="sd">        instruments.</span>

<span class="sd">    Implemented by:</span>

<span class="sd">        2013-03-11: Christopher Mueller. Initial code.</span>
<span class="sd">        2013-03-13: Christopher Wingard. Added commenting and moved to</span>
<span class="sd">            ctd_functions</span>
<span class="sd">        2013-05-10: Christopher Wingard. Minor edits to comments.</span>
<span class="sd">        2014-01-31: Russell Desiderio. Standardized comment format.</span>
<span class="sd">        2023-08-15: Samuel Dahlberg. Replaced incompatible pygsw with GSW library.</span>

<span class="sd">    Usage:</span>

<span class="sd">        rho = ctd_density(SP, t, p, lat, lon)</span>

<span class="sd">            where</span>

<span class="sd">        rho = sea water density (DENSITY_L2) [kg m-3]</span>
<span class="sd">        SP = practical salinity PSS-78 (PRACSAL_L2) [unitless]</span>
<span class="sd">        t = sea water temperature (TEMPWAT_L1) [deg_C]</span>
<span class="sd">        p = sea water pressure (PRESWAT_L1) [dbar]</span>
<span class="sd">        lat = latitude where input data was collected [decimal degree]</span>
<span class="sd">        lon = longitude where input data was collected [decimal degree]</span>

<span class="sd">    References:</span>

<span class="sd">        OOI (2012). Data Product Specification for Density. Document Control</span>
<span class="sd">            Number 1341-00050. https://alfresco.oceanobservatories.org/ (See:</span>
<span class="sd">            Company Home &gt;&gt; OOI &gt;&gt; Controlled &gt;&gt; 1000 System Level &gt;&gt;</span>
<span class="sd">            1341-00050_Data_Product_SPEC_DENSITY_OOI.pdf)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Calculate the density [kg m-3]</span>
    <span class="n">sa</span> <span class="o">=</span> <span class="n">gsw</span><span class="o">.</span><span class="n">SA_from_SP</span><span class="p">(</span><span class="n">SP</span><span class="p">,</span> <span class="n">p</span><span class="p">,</span> <span class="n">lon</span><span class="p">,</span> <span class="n">lat</span><span class="p">)</span>  <span class="c1"># absolute salinity</span>
    <span class="n">ct</span> <span class="o">=</span> <span class="n">gsw</span><span class="o">.</span><span class="n">CT_from_t</span><span class="p">(</span><span class="n">sa</span><span class="p">,</span> <span class="n">t</span><span class="p">,</span> <span class="n">p</span><span class="p">)</span>  <span class="c1"># conservative temperature</span>
    <span class="n">rho</span> <span class="o">=</span> <span class="n">gsw</span><span class="o">.</span><span class="n">rho</span><span class="p">(</span><span class="n">sa</span><span class="p">,</span> <span class="n">ct</span><span class="p">,</span> <span class="n">p</span><span class="p">)</span>  <span class="c1"># density</span>
    <span class="c1"># rho = gsw.ctd_density(SP, t, p, lat, lon)</span>

    <span class="k">return</span> <span class="n">rho</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="ion_functions.data.ctd_functions.ctd_glider_preswat" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">ctd_glider_preswat</span><span class="p">(</span><span class="n">pr_bar</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Description:</p>
<pre><code>OOI Level 1 Pressure (Depth) data product, which is calculated using
data from the Sea-Bird Electronics conductivity, temperature and depth
(CTD) family of instruments.

This data product is derived from Seabird CTDs installed on gliders and
applies to CTDGV instruments.
</code></pre>
<p>Implemented by:</p>
<pre><code>2015-10-28: Russell Desiderio. Initial Code
</code></pre>
<p>Usage:</p>
<pre><code>pr_dbar = ctd_glider_preswat(pr_bar)

    where

pr_dbar = sea water pressure (PRESWAT_L1) [dbar]
pr_bar = sea water pressure value from glider [bar]
</code></pre>
<p>References:</p>
<pre><code>OOI (2015). Data Product Specification for Coastal Glider Data Products
    (version 1-03). Document Control Number 1341-00020.
    https://alfresco.oceanobservatories.org/
    (See: Company Home &gt;&gt; OOI &gt;&gt; Controlled &gt;&gt; 1000 System Level &gt;&gt;
    1341-20001_Data_Product_SPEC_CSGLIDR_OOI.docx)
</code></pre>

            <details class="quote">
              <summary>Source code in <code>ion_functions/data/ctd_functions.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">434</span>
<span class="normal">435</span>
<span class="normal">436</span>
<span class="normal">437</span>
<span class="normal">438</span>
<span class="normal">439</span>
<span class="normal">440</span>
<span class="normal">441</span>
<span class="normal">442</span>
<span class="normal">443</span>
<span class="normal">444</span>
<span class="normal">445</span>
<span class="normal">446</span>
<span class="normal">447</span>
<span class="normal">448</span>
<span class="normal">449</span>
<span class="normal">450</span>
<span class="normal">451</span>
<span class="normal">452</span>
<span class="normal">453</span>
<span class="normal">454</span>
<span class="normal">455</span>
<span class="normal">456</span>
<span class="normal">457</span>
<span class="normal">458</span>
<span class="normal">459</span>
<span class="normal">460</span>
<span class="normal">461</span>
<span class="normal">462</span>
<span class="normal">463</span>
<span class="normal">464</span>
<span class="normal">465</span>
<span class="normal">466</span>
<span class="normal">467</span>
<span class="normal">468</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">ctd_glider_preswat</span><span class="p">(</span><span class="n">pr_bar</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Description:</span>

<span class="sd">        OOI Level 1 Pressure (Depth) data product, which is calculated using</span>
<span class="sd">        data from the Sea-Bird Electronics conductivity, temperature and depth</span>
<span class="sd">        (CTD) family of instruments.</span>

<span class="sd">        This data product is derived from Seabird CTDs installed on gliders and</span>
<span class="sd">        applies to CTDGV instruments.</span>

<span class="sd">    Implemented by:</span>

<span class="sd">        2015-10-28: Russell Desiderio. Initial Code</span>

<span class="sd">    Usage:</span>

<span class="sd">        pr_dbar = ctd_glider_preswat(pr_bar)</span>

<span class="sd">            where</span>

<span class="sd">        pr_dbar = sea water pressure (PRESWAT_L1) [dbar]</span>
<span class="sd">        pr_bar = sea water pressure value from glider [bar]</span>

<span class="sd">    References:</span>

<span class="sd">        OOI (2015). Data Product Specification for Coastal Glider Data Products</span>
<span class="sd">            (version 1-03). Document Control Number 1341-00020.</span>
<span class="sd">            https://alfresco.oceanobservatories.org/</span>
<span class="sd">            (See: Company Home &gt;&gt; OOI &gt;&gt; Controlled &gt;&gt; 1000 System Level &gt;&gt;</span>
<span class="sd">            1341-20001_Data_Product_SPEC_CSGLIDR_OOI.docx)</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">pr_dbar</span> <span class="o">=</span> <span class="n">pr_bar</span> <span class="o">*</span> <span class="mf">10.0</span>
    <span class="k">return</span> <span class="n">pr_dbar</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="ion_functions.data.ctd_functions.ctd_pracsal" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">ctd_pracsal</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="n">t</span><span class="p">,</span> <span class="n">p</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Description:</p>
<pre><code>OOI Level 2 Practical Salinity core data product, which is calculated
using the Thermodynamic Equations of Seawater - 2010 (TEOS-10) Version
3.0, with data from the conductivity, temperature and depth (CTD)
family of instruments.
</code></pre>
<p>Implemented by:</p>
<pre><code>2013-03-13: Christopher Wingard. Initial code.
2013-05-10: Christopher Wingard. Minor edits to comments.
2014-01-31: Russell Desiderio. Standardized comment format.
2023-08-15: Samuel Dahlberg. Replaced incompatible pygsw with GSW library.
</code></pre>
<p>Usage:</p>
<pre><code>SP = ctd_pracsal(c, t, p)

    where

SP = practical salinity, PSS-78, (PRACSAL_L2) [unitless]
c = sea water conductivity (CONDWAT_L1) [S m-1]
t = sea water temperature (TEMPWAT_L1) [deg_C]
p = sea water pressure (PRESWAT_L1) [dbar]
</code></pre>
<p>References:</p>
<pre><code>OOI (2012). Data Product Specification for Salinty. Document Control
    Number 1341-00040. https://alfresco.oceanobservatories.org/ (See: 
    Company Home &gt;&gt; OOI &gt;&gt; Controlled &gt;&gt; 1000 System Level &gt;&gt;
    1341-00040_Data_Product_SPEC_PRACSAL_OOI.pdf)
</code></pre>

            <details class="quote">
              <summary>Source code in <code>ion_functions/data/ctd_functions.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">681</span>
<span class="normal">682</span>
<span class="normal">683</span>
<span class="normal">684</span>
<span class="normal">685</span>
<span class="normal">686</span>
<span class="normal">687</span>
<span class="normal">688</span>
<span class="normal">689</span>
<span class="normal">690</span>
<span class="normal">691</span>
<span class="normal">692</span>
<span class="normal">693</span>
<span class="normal">694</span>
<span class="normal">695</span>
<span class="normal">696</span>
<span class="normal">697</span>
<span class="normal">698</span>
<span class="normal">699</span>
<span class="normal">700</span>
<span class="normal">701</span>
<span class="normal">702</span>
<span class="normal">703</span>
<span class="normal">704</span>
<span class="normal">705</span>
<span class="normal">706</span>
<span class="normal">707</span>
<span class="normal">708</span>
<span class="normal">709</span>
<span class="normal">710</span>
<span class="normal">711</span>
<span class="normal">712</span>
<span class="normal">713</span>
<span class="normal">714</span>
<span class="normal">715</span>
<span class="normal">716</span>
<span class="normal">717</span>
<span class="normal">718</span>
<span class="normal">719</span>
<span class="normal">720</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">ctd_pracsal</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="n">t</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Description:</span>

<span class="sd">        OOI Level 2 Practical Salinity core data product, which is calculated</span>
<span class="sd">        using the Thermodynamic Equations of Seawater - 2010 (TEOS-10) Version</span>
<span class="sd">        3.0, with data from the conductivity, temperature and depth (CTD)</span>
<span class="sd">        family of instruments.</span>

<span class="sd">    Implemented by:</span>

<span class="sd">        2013-03-13: Christopher Wingard. Initial code.</span>
<span class="sd">        2013-05-10: Christopher Wingard. Minor edits to comments.</span>
<span class="sd">        2014-01-31: Russell Desiderio. Standardized comment format.</span>
<span class="sd">        2023-08-15: Samuel Dahlberg. Replaced incompatible pygsw with GSW library.</span>

<span class="sd">    Usage:</span>

<span class="sd">        SP = ctd_pracsal(c, t, p)</span>

<span class="sd">            where</span>

<span class="sd">        SP = practical salinity, PSS-78, (PRACSAL_L2) [unitless]</span>
<span class="sd">        c = sea water conductivity (CONDWAT_L1) [S m-1]</span>
<span class="sd">        t = sea water temperature (TEMPWAT_L1) [deg_C]</span>
<span class="sd">        p = sea water pressure (PRESWAT_L1) [dbar]</span>
<span class="sd">    References:</span>

<span class="sd">        OOI (2012). Data Product Specification for Salinty. Document Control</span>
<span class="sd">            Number 1341-00040. https://alfresco.oceanobservatories.org/ (See: </span>
<span class="sd">            Company Home &gt;&gt; OOI &gt;&gt; Controlled &gt;&gt; 1000 System Level &gt;&gt;</span>
<span class="sd">            1341-00040_Data_Product_SPEC_PRACSAL_OOI.pdf)</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1"># Convert L1 Conductivity from S/m to mS/cm</span>
    <span class="n">C10</span> <span class="o">=</span> <span class="n">c</span> <span class="o">*</span> <span class="mf">10.0</span>

    <span class="c1"># Calculate the Practical Salinity (PSS-78) [unitless]</span>
    <span class="n">SP</span> <span class="o">=</span> <span class="n">gsw</span><span class="o">.</span><span class="n">SP_from_C</span><span class="p">(</span><span class="n">C10</span><span class="p">,</span> <span class="n">t</span><span class="p">,</span> <span class="n">p</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">SP</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="ion_functions.data.ctd_functions.ctd_sbe16digi_preswat" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">ctd_sbe16digi_preswat</span><span class="p">(</span><span class="n">p0</span><span class="p">,</span> <span class="n">t0</span><span class="p">,</span> <span class="n">C1</span><span class="p">,</span> <span class="n">C2</span><span class="p">,</span> <span class="n">C3</span><span class="p">,</span> <span class="n">D1</span><span class="p">,</span> <span class="n">D2</span><span class="p">,</span> <span class="n">T1</span><span class="p">,</span> <span class="n">T2</span><span class="p">,</span> <span class="n">T3</span><span class="p">,</span> <span class="n">T4</span><span class="p">,</span> <span class="n">T5</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Description:</p>
<pre><code>OOI Level 1 Pressure (Depth) data product, which is calculated using
data from the Sea-Bird Electronics conductivity, temperature and depth
(CTD) family of instruments.

This data product is derived from SBE 16Plus instruments outfitted with
a digiquartz pressure sensor. This applies to the CTDBP-N,O instruments
only.
</code></pre>
<p>Implemented by:</p>
<pre><code>2013-05-10: Christopher Wingard. Initial Code.
2013-05-10: Christopher Wingard. Minor edits to comments.
2014-01-31: Russell Desiderio. Standardized comment format.
2014-01-31: Russell Desiderio. Modified algorithm to use pressure [Hz] (pf)
            to calculate pressure period instead of pressure [counts] (p0).
            See SeaBird 16Plus V2 User Manual (reference (2)), page 57, item 5.
</code></pre>
<p>Usage:</p>
<pre><code>p = ctd_sbe16digi_preswat(p0,t0,C1,C2,C3,D1,D2,T1,T2,T3,T4,T5)

    where

p = sea water pressure (PRESWAT_L1) [dbar]
p0 = raw pressure (PRESWAT_L0) [counts]
t0 = raw temperature from pressure sensor thermistor [counts]
C1 = digiquartz pressure calibration coefficients
C2 = digiquartz pressure calibration coefficients
C3 = digiquartz pressure calibration coefficients
D1 = digiquartz pressure calibration coefficients
D2 = digiquartz pressure calibration coefficients
T1 = digiquartz pressure calibration coefficients
T2 = digiquartz pressure calibration coefficients
T3 = digiquartz pressure calibration coefficients
T4 = digiquartz pressure calibration coefficients
T5 = digiquartz pressure calibration coefficients
</code></pre>
<p>References:</p>
<pre><code>OOI (2012). Data Product Specification for Pressure (Depth). Document
    Control Number 1341-00020. https://alfresco.oceanobservatories.org/
    (See: Company Home &gt;&gt; OOI &gt;&gt; Controlled &gt;&gt; 1000 System Level &gt;&gt;
    1341-00020_Data_Product_SPEC_PRESWAT_OOI.pdf)

OOI (2011). SeaBird 16Plus V2 User Manual. 1341-00020_PRESWAT Artifact.
    https://alfresco.oceanobservatories.org/ (See: Company Home &gt;&gt; OOI &gt;&gt;
    &gt;&gt; REFERENCE &gt;&gt; Data Product Specification Artifacts &gt;&gt; 1341-00020_PRESWAT &gt;&gt;
    PRESWAT_SeaBird_16PlusV2_2009.pdf)
</code></pre>

            <details class="quote">
              <summary>Source code in <code>ion_functions/data/ctd_functions.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">ctd_sbe16digi_preswat</span><span class="p">(</span><span class="n">p0</span><span class="p">,</span> <span class="n">t0</span><span class="p">,</span> <span class="n">C1</span><span class="p">,</span> <span class="n">C2</span><span class="p">,</span> <span class="n">C3</span><span class="p">,</span> <span class="n">D1</span><span class="p">,</span> <span class="n">D2</span><span class="p">,</span> <span class="n">T1</span><span class="p">,</span> <span class="n">T2</span><span class="p">,</span> <span class="n">T3</span><span class="p">,</span> <span class="n">T4</span><span class="p">,</span> <span class="n">T5</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Description:</span>

<span class="sd">        OOI Level 1 Pressure (Depth) data product, which is calculated using</span>
<span class="sd">        data from the Sea-Bird Electronics conductivity, temperature and depth</span>
<span class="sd">        (CTD) family of instruments.</span>

<span class="sd">        This data product is derived from SBE 16Plus instruments outfitted with</span>
<span class="sd">        a digiquartz pressure sensor. This applies to the CTDBP-N,O instruments</span>
<span class="sd">        only.</span>

<span class="sd">    Implemented by:</span>

<span class="sd">        2013-05-10: Christopher Wingard. Initial Code.</span>
<span class="sd">        2013-05-10: Christopher Wingard. Minor edits to comments.</span>
<span class="sd">        2014-01-31: Russell Desiderio. Standardized comment format.</span>
<span class="sd">        2014-01-31: Russell Desiderio. Modified algorithm to use pressure [Hz] (pf)</span>
<span class="sd">                    to calculate pressure period instead of pressure [counts] (p0).</span>
<span class="sd">                    See SeaBird 16Plus V2 User Manual (reference (2)), page 57, item 5.</span>

<span class="sd">    Usage:</span>

<span class="sd">        p = ctd_sbe16digi_preswat(p0,t0,C1,C2,C3,D1,D2,T1,T2,T3,T4,T5)</span>

<span class="sd">            where</span>

<span class="sd">        p = sea water pressure (PRESWAT_L1) [dbar]</span>
<span class="sd">        p0 = raw pressure (PRESWAT_L0) [counts]</span>
<span class="sd">        t0 = raw temperature from pressure sensor thermistor [counts]</span>
<span class="sd">        C1 = digiquartz pressure calibration coefficients</span>
<span class="sd">        C2 = digiquartz pressure calibration coefficients</span>
<span class="sd">        C3 = digiquartz pressure calibration coefficients</span>
<span class="sd">        D1 = digiquartz pressure calibration coefficients</span>
<span class="sd">        D2 = digiquartz pressure calibration coefficients</span>
<span class="sd">        T1 = digiquartz pressure calibration coefficients</span>
<span class="sd">        T2 = digiquartz pressure calibration coefficients</span>
<span class="sd">        T3 = digiquartz pressure calibration coefficients</span>
<span class="sd">        T4 = digiquartz pressure calibration coefficients</span>
<span class="sd">        T5 = digiquartz pressure calibration coefficients</span>

<span class="sd">    References:</span>

<span class="sd">        OOI (2012). Data Product Specification for Pressure (Depth). Document</span>
<span class="sd">            Control Number 1341-00020. https://alfresco.oceanobservatories.org/</span>
<span class="sd">            (See: Company Home &gt;&gt; OOI &gt;&gt; Controlled &gt;&gt; 1000 System Level &gt;&gt;</span>
<span class="sd">            1341-00020_Data_Product_SPEC_PRESWAT_OOI.pdf)</span>

<span class="sd">        OOI (2011). SeaBird 16Plus V2 User Manual. 1341-00020_PRESWAT Artifact.</span>
<span class="sd">            https://alfresco.oceanobservatories.org/ (See: Company Home &gt;&gt; OOI &gt;&gt;</span>
<span class="sd">            &gt;&gt; REFERENCE &gt;&gt; Data Product Specification Artifacts &gt;&gt; 1341-00020_PRESWAT &gt;&gt;</span>
<span class="sd">            PRESWAT_SeaBird_16PlusV2_2009.pdf)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Convert raw pressure input to frequency [Hz]</span>
    <span class="n">pf</span> <span class="o">=</span> <span class="n">p0</span> <span class="o">/</span> <span class="mf">256.0</span>

    <span class="c1"># Convert raw temperature input to voltage</span>
    <span class="n">tv</span> <span class="o">=</span> <span class="n">t0</span> <span class="o">/</span> <span class="mf">13107.0</span>

    <span class="c1"># Calculate U (thermistor temp):</span>
    <span class="n">U</span> <span class="o">=</span> <span class="p">(</span><span class="mf">23.7</span> <span class="o">*</span> <span class="p">(</span><span class="n">tv</span> <span class="o">+</span> <span class="mf">9.7917</span><span class="p">))</span> <span class="o">-</span> <span class="mf">273.15</span>

    <span class="c1"># Calculate calibration parameters</span>
    <span class="n">C</span> <span class="o">=</span> <span class="n">C1</span> <span class="o">+</span> <span class="n">C2</span> <span class="o">*</span> <span class="n">U</span> <span class="o">+</span> <span class="n">C3</span> <span class="o">*</span> <span class="n">U</span><span class="o">**</span><span class="mi">2</span>
    <span class="n">D</span> <span class="o">=</span> <span class="n">D1</span> <span class="o">+</span> <span class="n">D2</span> <span class="o">*</span> <span class="n">U</span>
    <span class="n">T0</span> <span class="o">=</span> <span class="n">T1</span> <span class="o">+</span> <span class="n">T2</span> <span class="o">*</span> <span class="n">U</span> <span class="o">+</span> <span class="n">T3</span> <span class="o">*</span> <span class="n">U</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="n">T4</span> <span class="o">*</span> <span class="n">U</span><span class="o">**</span><span class="mi">3</span> <span class="o">+</span> <span class="n">T5</span> <span class="o">*</span> <span class="n">U</span><span class="o">**</span><span class="mi">4</span>

    <span class="c1"># Calculate T (pressure period, in microseconds):</span>
    <span class="n">T</span> <span class="o">=</span> <span class="p">(</span><span class="mf">1.0</span> <span class="o">/</span> <span class="n">pf</span><span class="p">)</span> <span class="o">*</span> <span class="mf">1.0e6</span>

    <span class="c1"># compute pressure in psi, rescale and compute in dbar and return</span>
    <span class="n">p_psi</span> <span class="o">=</span> <span class="n">C</span> <span class="o">*</span> <span class="p">(</span><span class="mf">1.0</span> <span class="o">-</span> <span class="n">T0</span><span class="o">**</span><span class="mi">2</span> <span class="o">/</span> <span class="n">T</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="mf">1.0</span> <span class="o">-</span> <span class="n">D</span> <span class="o">*</span> <span class="p">(</span><span class="mf">1.0</span> <span class="o">-</span> <span class="n">T0</span><span class="o">**</span><span class="mi">2</span> <span class="o">/</span> <span class="n">T</span><span class="o">**</span><span class="mi">2</span><span class="p">))</span>
    <span class="n">p_dbar</span> <span class="o">=</span> <span class="p">(</span><span class="n">p_psi</span> <span class="o">*</span> <span class="mf">0.689475729</span><span class="p">)</span> <span class="o">-</span> <span class="mf">10.1325</span>
    <span class="k">return</span> <span class="n">p_dbar</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="ion_functions.data.ctd_functions.ctd_sbe16plus_condwat" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">ctd_sbe16plus_condwat</span><span class="p">(</span><span class="n">c0</span><span class="p">,</span> <span class="n">t1</span><span class="p">,</span> <span class="n">p1</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span class="n">h</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">,</span> <span class="n">cpcor</span><span class="p">,</span> <span class="n">ctcor</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Description:</p>
<pre><code>OOI Level 1 Conductivity core data product, which is calculated using
data from the Sea-Bird Electronics conductivity, temperature and depth
(CTD) family of instruments.

This data product is derived from SBE 16Plus instruments and applies to
CTDBP instruments, all series, and CTDPF instruments, series A and B.
</code></pre>
<p>Implemented by:</p>
<pre><code>2013-04-12: Christopher Wingard. Initial Code
2013-05-10: Christopher Wingard. Minor edits to comments.
2014-01-31: Russell Desiderio. Standardized comment format.
</code></pre>
<p>Usage:</p>
<pre><code>c = ctd_sbe16plus_condwat(c0, t1, p1, g, h, i, j, cpcor, ctcor)

    where

c = sea water conductivity (CONDWAT_L1) [S m-1]
c0 = sea water conductivity (CONDWAT_L0) [counts]
t1 = sea water temperature (TEMPWAT_L1) [deg_C]
p1 = sea water pressure (PRESWAT_L1) [dbar]
g = conductivity calibration coefficients
h = conductivity calibration coefficients
i = conductivity calibration coefficients
j = conductivity calibration coefficients
cpcor = conductivity calibration coefficients
ctcor = conductivity calibration coefficients
</code></pre>
<p>References:</p>
<pre><code>OOI (2012). Data Product Specification for Conductivity. Document
    Control Number 1341-00030. https://alfresco.oceanobservatories.org/
    (See: Company Home &gt;&gt; OOI &gt;&gt; Controlled &gt;&gt; 1000 System Level &gt;&gt;
    1341-00030_Data_Product_SPEC_CONDWAT_OOI.pdf)
</code></pre>

            <details class="quote">
              <summary>Source code in <code>ion_functions/data/ctd_functions.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">507</span>
<span class="normal">508</span>
<span class="normal">509</span>
<span class="normal">510</span>
<span class="normal">511</span>
<span class="normal">512</span>
<span class="normal">513</span>
<span class="normal">514</span>
<span class="normal">515</span>
<span class="normal">516</span>
<span class="normal">517</span>
<span class="normal">518</span>
<span class="normal">519</span>
<span class="normal">520</span>
<span class="normal">521</span>
<span class="normal">522</span>
<span class="normal">523</span>
<span class="normal">524</span>
<span class="normal">525</span>
<span class="normal">526</span>
<span class="normal">527</span>
<span class="normal">528</span>
<span class="normal">529</span>
<span class="normal">530</span>
<span class="normal">531</span>
<span class="normal">532</span>
<span class="normal">533</span>
<span class="normal">534</span>
<span class="normal">535</span>
<span class="normal">536</span>
<span class="normal">537</span>
<span class="normal">538</span>
<span class="normal">539</span>
<span class="normal">540</span>
<span class="normal">541</span>
<span class="normal">542</span>
<span class="normal">543</span>
<span class="normal">544</span>
<span class="normal">545</span>
<span class="normal">546</span>
<span class="normal">547</span>
<span class="normal">548</span>
<span class="normal">549</span>
<span class="normal">550</span>
<span class="normal">551</span>
<span class="normal">552</span>
<span class="normal">553</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">ctd_sbe16plus_condwat</span><span class="p">(</span><span class="n">c0</span><span class="p">,</span> <span class="n">t1</span><span class="p">,</span> <span class="n">p1</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span class="n">h</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">,</span> <span class="n">cpcor</span><span class="p">,</span> <span class="n">ctcor</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Description:</span>

<span class="sd">        OOI Level 1 Conductivity core data product, which is calculated using</span>
<span class="sd">        data from the Sea-Bird Electronics conductivity, temperature and depth</span>
<span class="sd">        (CTD) family of instruments.</span>

<span class="sd">        This data product is derived from SBE 16Plus instruments and applies to</span>
<span class="sd">        CTDBP instruments, all series, and CTDPF instruments, series A and B.</span>

<span class="sd">    Implemented by:</span>

<span class="sd">        2013-04-12: Christopher Wingard. Initial Code</span>
<span class="sd">        2013-05-10: Christopher Wingard. Minor edits to comments.</span>
<span class="sd">        2014-01-31: Russell Desiderio. Standardized comment format.</span>

<span class="sd">    Usage:</span>

<span class="sd">        c = ctd_sbe16plus_condwat(c0, t1, p1, g, h, i, j, cpcor, ctcor)</span>

<span class="sd">            where</span>

<span class="sd">        c = sea water conductivity (CONDWAT_L1) [S m-1]</span>
<span class="sd">        c0 = sea water conductivity (CONDWAT_L0) [counts]</span>
<span class="sd">        t1 = sea water temperature (TEMPWAT_L1) [deg_C]</span>
<span class="sd">        p1 = sea water pressure (PRESWAT_L1) [dbar]</span>
<span class="sd">        g = conductivity calibration coefficients</span>
<span class="sd">        h = conductivity calibration coefficients</span>
<span class="sd">        i = conductivity calibration coefficients</span>
<span class="sd">        j = conductivity calibration coefficients</span>
<span class="sd">        cpcor = conductivity calibration coefficients</span>
<span class="sd">        ctcor = conductivity calibration coefficients</span>

<span class="sd">    References:</span>

<span class="sd">        OOI (2012). Data Product Specification for Conductivity. Document</span>
<span class="sd">            Control Number 1341-00030. https://alfresco.oceanobservatories.org/</span>
<span class="sd">            (See: Company Home &gt;&gt; OOI &gt;&gt; Controlled &gt;&gt; 1000 System Level &gt;&gt;</span>
<span class="sd">            1341-00030_Data_Product_SPEC_CONDWAT_OOI.pdf)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># convert raw conductivity measurement to frequency</span>
    <span class="n">f</span> <span class="o">=</span> <span class="p">(</span><span class="n">c0</span> <span class="o">/</span> <span class="mf">256.0</span><span class="p">)</span> <span class="o">/</span> <span class="mf">1000.0</span>

    <span class="c1"># calculate conductivity [S m-1]</span>
    <span class="n">c</span> <span class="o">=</span> <span class="p">(</span><span class="n">g</span> <span class="o">+</span> <span class="n">h</span> <span class="o">*</span> <span class="n">f</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="n">i</span> <span class="o">*</span> <span class="n">f</span><span class="o">**</span><span class="mi">3</span> <span class="o">+</span> <span class="n">j</span> <span class="o">*</span> <span class="n">f</span><span class="o">**</span><span class="mi">4</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="n">ctcor</span> <span class="o">*</span> <span class="n">t1</span> <span class="o">+</span> <span class="n">cpcor</span> <span class="o">*</span> <span class="n">p1</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">c</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="ion_functions.data.ctd_functions.ctd_sbe16plus_preswat" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">ctd_sbe16plus_preswat</span><span class="p">(</span><span class="n">p0</span><span class="p">,</span> <span class="n">t0</span><span class="p">,</span> <span class="n">ptempa0</span><span class="p">,</span> <span class="n">ptempa1</span><span class="p">,</span> <span class="n">ptempa2</span><span class="p">,</span> <span class="n">ptca0</span><span class="p">,</span> <span class="n">ptca1</span><span class="p">,</span> <span class="n">ptca2</span><span class="p">,</span> <span class="n">ptcb0</span><span class="p">,</span> <span class="n">ptcb1</span><span class="p">,</span> <span class="n">ptcb2</span><span class="p">,</span> <span class="n">pa0</span><span class="p">,</span> <span class="n">pa1</span><span class="p">,</span> <span class="n">pa2</span><span class="p">,</span> <span class="n">offset</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Description:</p>
<pre><code>OOI Level 1 Pressure (Depth) data product, which is calculated using
data from the Sea-Bird Electronics conductivity, temperature and depth
(CTD) family of instruments.

This data product is derived from SBE 16Plus instruments outfitted with
a strain gauge pressure sensor. This is the default for most of the CTDBP
instruments (the exceptions are series N and O) and for CTDPF instruments,
series A and B.
</code></pre>
<p>Implemented by:</p>
<pre><code>2013-04-12: Chris Wingard. Initial Code.
2013-05-10: Christopher Wingard. Minor edits to comments.
2014-01-31: Russell Desiderio. Standardized comment format.
2017-03-31: Dan Mergens. Update to correct adjust for Druck offset.
</code></pre>
<p>Usage:</p>
<pre><code>p = ctd_sbe16plus_preswat(p0, t0, ptempa0, ptempa1, ptempa2,
                  ptca0, ptca1, ptca2, ptcb0, ptcb1, ptcb2,
                  pa0, pa1, pa2, offset)

    where

p = sea water pressure (PRESWAT_L1) [dbar]
p0 = raw pressure (PRESWAT_L0) [counts]
t0 = raw temperature from pressure sensor thermistor [counts]
ptempa0 = strain gauge pressure calibration coefficients
ptempa1 = strain gauge pressure calibration coefficients
ptempa2 = strain gauge pressure calibration coefficients
ptca0 = strain gauge pressure calibration coefficients
ptca1 = strain gauge pressure calibration coefficients
ptca2 = strain gauge pressure calibration coefficients
ptcb0 = strain gauge pressure calibration coefficients
ptcb1 = strain gauge pressure calibration coefficients
ptcb2 = strain gauge pressure calibration coefficients
pa0 = strain gauge pressure calibration coefficients
pa1 = strain gauge pressure calibration coefficients
pa2 = strain gauge pressure calibration coefficients
offset = correction for Druck error [dbar]
</code></pre>
<p>References:</p>
<pre><code>OOI (2012). Data Product Specification for Pressure (Depth). Document
    Control Number 1341-00020. https://alfresco.oceanobservatories.org/
    (See: Company Home &gt;&gt; OOI &gt;&gt; Controlled &gt;&gt; 1000 System Level &gt;&gt;
    1341-00020_Data_Product_SPEC_PRESWAT_OOI.pdf)
</code></pre>

            <details class="quote">
              <summary>Source code in <code>ion_functions/data/ctd_functions.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">ctd_sbe16plus_preswat</span><span class="p">(</span><span class="n">p0</span><span class="p">,</span> <span class="n">t0</span><span class="p">,</span> <span class="n">ptempa0</span><span class="p">,</span> <span class="n">ptempa1</span><span class="p">,</span> <span class="n">ptempa2</span><span class="p">,</span>
                          <span class="n">ptca0</span><span class="p">,</span> <span class="n">ptca1</span><span class="p">,</span> <span class="n">ptca2</span><span class="p">,</span> <span class="n">ptcb0</span><span class="p">,</span> <span class="n">ptcb1</span><span class="p">,</span> <span class="n">ptcb2</span><span class="p">,</span>
                          <span class="n">pa0</span><span class="p">,</span> <span class="n">pa1</span><span class="p">,</span> <span class="n">pa2</span><span class="p">,</span> <span class="n">offset</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Description:</span>

<span class="sd">        OOI Level 1 Pressure (Depth) data product, which is calculated using</span>
<span class="sd">        data from the Sea-Bird Electronics conductivity, temperature and depth</span>
<span class="sd">        (CTD) family of instruments.</span>

<span class="sd">        This data product is derived from SBE 16Plus instruments outfitted with</span>
<span class="sd">        a strain gauge pressure sensor. This is the default for most of the CTDBP</span>
<span class="sd">        instruments (the exceptions are series N and O) and for CTDPF instruments,</span>
<span class="sd">        series A and B.</span>

<span class="sd">    Implemented by:</span>

<span class="sd">        2013-04-12: Chris Wingard. Initial Code.</span>
<span class="sd">        2013-05-10: Christopher Wingard. Minor edits to comments.</span>
<span class="sd">        2014-01-31: Russell Desiderio. Standardized comment format.</span>
<span class="sd">        2017-03-31: Dan Mergens. Update to correct adjust for Druck offset.</span>

<span class="sd">    Usage:</span>

<span class="sd">        p = ctd_sbe16plus_preswat(p0, t0, ptempa0, ptempa1, ptempa2,</span>
<span class="sd">                          ptca0, ptca1, ptca2, ptcb0, ptcb1, ptcb2,</span>
<span class="sd">                          pa0, pa1, pa2, offset)</span>

<span class="sd">            where</span>

<span class="sd">        p = sea water pressure (PRESWAT_L1) [dbar]</span>
<span class="sd">        p0 = raw pressure (PRESWAT_L0) [counts]</span>
<span class="sd">        t0 = raw temperature from pressure sensor thermistor [counts]</span>
<span class="sd">        ptempa0 = strain gauge pressure calibration coefficients</span>
<span class="sd">        ptempa1 = strain gauge pressure calibration coefficients</span>
<span class="sd">        ptempa2 = strain gauge pressure calibration coefficients</span>
<span class="sd">        ptca0 = strain gauge pressure calibration coefficients</span>
<span class="sd">        ptca1 = strain gauge pressure calibration coefficients</span>
<span class="sd">        ptca2 = strain gauge pressure calibration coefficients</span>
<span class="sd">        ptcb0 = strain gauge pressure calibration coefficients</span>
<span class="sd">        ptcb1 = strain gauge pressure calibration coefficients</span>
<span class="sd">        ptcb2 = strain gauge pressure calibration coefficients</span>
<span class="sd">        pa0 = strain gauge pressure calibration coefficients</span>
<span class="sd">        pa1 = strain gauge pressure calibration coefficients</span>
<span class="sd">        pa2 = strain gauge pressure calibration coefficients</span>
<span class="sd">        offset = correction for Druck error [dbar]</span>

<span class="sd">    References:</span>

<span class="sd">        OOI (2012). Data Product Specification for Pressure (Depth). Document</span>
<span class="sd">            Control Number 1341-00020. https://alfresco.oceanobservatories.org/</span>
<span class="sd">            (See: Company Home &gt;&gt; OOI &gt;&gt; Controlled &gt;&gt; 1000 System Level &gt;&gt;</span>
<span class="sd">            1341-00020_Data_Product_SPEC_PRESWAT_OOI.pdf)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># compute calibration parameters</span>
    <span class="n">tv</span> <span class="o">=</span> <span class="n">t0</span> <span class="o">/</span> <span class="mf">13107.0</span>
    <span class="n">t</span> <span class="o">=</span> <span class="n">ptempa0</span> <span class="o">+</span> <span class="n">ptempa1</span> <span class="o">*</span> <span class="n">tv</span> <span class="o">+</span> <span class="n">ptempa2</span> <span class="o">*</span> <span class="n">tv</span><span class="o">**</span><span class="mi">2</span>
    <span class="n">x</span> <span class="o">=</span> <span class="n">p0</span> <span class="o">-</span> <span class="n">ptca0</span> <span class="o">-</span> <span class="n">ptca1</span> <span class="o">*</span> <span class="n">t</span> <span class="o">-</span> <span class="n">ptca2</span> <span class="o">*</span> <span class="n">t</span><span class="o">**</span><span class="mi">2</span>
    <span class="n">n</span> <span class="o">=</span> <span class="n">x</span> <span class="o">*</span> <span class="n">ptcb0</span> <span class="o">/</span> <span class="p">(</span><span class="n">ptcb0</span> <span class="o">+</span> <span class="n">ptcb1</span> <span class="o">*</span> <span class="n">t</span> <span class="o">+</span> <span class="n">ptcb2</span> <span class="o">*</span> <span class="n">t</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>

    <span class="c1"># compute pressure in psi, rescale and compute in dbar and return</span>
    <span class="n">p_psi</span> <span class="o">=</span> <span class="n">pa0</span> <span class="o">+</span> <span class="n">pa1</span> <span class="o">*</span> <span class="n">n</span> <span class="o">+</span> <span class="n">pa2</span> <span class="o">*</span> <span class="n">n</span><span class="o">**</span><span class="mi">2</span>
    <span class="n">p_dbar</span> <span class="o">=</span> <span class="p">(</span><span class="n">p_psi</span> <span class="o">*</span> <span class="mf">0.689475729</span><span class="p">)</span> <span class="o">-</span> <span class="mf">10.1325</span>
    <span class="k">return</span> <span class="n">p_dbar</span> <span class="o">+</span> <span class="n">offset</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="ion_functions.data.ctd_functions.ctd_sbe16plus_tempwat" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">ctd_sbe16plus_tempwat</span><span class="p">(</span><span class="n">t0</span><span class="p">,</span> <span class="n">a0</span><span class="p">,</span> <span class="n">a1</span><span class="p">,</span> <span class="n">a2</span><span class="p">,</span> <span class="n">a3</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Description:</p>
<pre><code>OOI Level 1 Water Temperature data product, which is calculated using
data from the Sea-Bird Electronics conductivity, temperature and depth
(CTD) family of instruments.

This data product is derived from SBE 16Plus instruments and applies to
CTDBP instruments, all series, and CTDPF instruments, series A and B.
</code></pre>
<p>Implemented by:</p>
<pre><code>2013-04-12: Luke Campbell. Initial Code
2013-04-12: Christopher Wingard. Minor edits
2013-05-10: Christopher Wingard. Minor edits to comments.
2014-01-31: Russell Desiderio. Standardized comment format.
2023-08-15: Samuel Dahlberg. Removed use of numexpr
</code></pre>
<p>Usage:</p>
<pre><code>t = ctd_sbe16plus_tempwat(t0, a0, a1, a2, a3)

    where

t = sea water temperature (TEMPWAT_L1) [deg_C]
t0 = raw temperature (TEMPWAT_L0) [counts]
a0 = temperature calibration coefficients
a1 = temperature calibration coefficients
a2 = temperature calibration coefficients
a3 = temperature calibration coefficients
</code></pre>
<p>References:</p>
<pre><code>OOI (2012). Data Product Specification for Water Temperature. Document
    Control Number 1341-00010. https://alfresco.oceanobservatories.org/
    (See: Company Home &gt;&gt; OOI &gt;&gt; Controlled &gt;&gt; 1000 System Level &gt;&gt;
    1341-00010_Data_Product_SPEC_TEMPWAT_OOI.pdf)
</code></pre>

            <details class="quote">
              <summary>Source code in <code>ion_functions/data/ctd_functions.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">ctd_sbe16plus_tempwat</span><span class="p">(</span><span class="n">t0</span><span class="p">,</span> <span class="n">a0</span><span class="p">,</span> <span class="n">a1</span><span class="p">,</span> <span class="n">a2</span><span class="p">,</span> <span class="n">a3</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Description:</span>

<span class="sd">        OOI Level 1 Water Temperature data product, which is calculated using</span>
<span class="sd">        data from the Sea-Bird Electronics conductivity, temperature and depth</span>
<span class="sd">        (CTD) family of instruments.</span>

<span class="sd">        This data product is derived from SBE 16Plus instruments and applies to</span>
<span class="sd">        CTDBP instruments, all series, and CTDPF instruments, series A and B.</span>

<span class="sd">    Implemented by:</span>

<span class="sd">        2013-04-12: Luke Campbell. Initial Code</span>
<span class="sd">        2013-04-12: Christopher Wingard. Minor edits</span>
<span class="sd">        2013-05-10: Christopher Wingard. Minor edits to comments.</span>
<span class="sd">        2014-01-31: Russell Desiderio. Standardized comment format.</span>
<span class="sd">        2023-08-15: Samuel Dahlberg. Removed use of numexpr</span>

<span class="sd">    Usage:</span>

<span class="sd">        t = ctd_sbe16plus_tempwat(t0, a0, a1, a2, a3)</span>

<span class="sd">            where</span>

<span class="sd">        t = sea water temperature (TEMPWAT_L1) [deg_C]</span>
<span class="sd">        t0 = raw temperature (TEMPWAT_L0) [counts]</span>
<span class="sd">        a0 = temperature calibration coefficients</span>
<span class="sd">        a1 = temperature calibration coefficients</span>
<span class="sd">        a2 = temperature calibration coefficients</span>
<span class="sd">        a3 = temperature calibration coefficients</span>

<span class="sd">    References:</span>

<span class="sd">        OOI (2012). Data Product Specification for Water Temperature. Document</span>
<span class="sd">            Control Number 1341-00010. https://alfresco.oceanobservatories.org/</span>
<span class="sd">            (See: Company Home &gt;&gt; OOI &gt;&gt; Controlled &gt;&gt; 1000 System Level &gt;&gt;</span>
<span class="sd">            1341-00010_Data_Product_SPEC_TEMPWAT_OOI.pdf)</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">mv</span> <span class="o">=</span> <span class="p">(</span><span class="n">t0</span> <span class="o">-</span> <span class="mi">524288</span><span class="p">)</span> <span class="o">/</span> <span class="mf">1.6e7</span>
    <span class="n">r</span> <span class="o">=</span> <span class="p">(</span><span class="n">mv</span> <span class="o">*</span> <span class="mf">2.9e9</span> <span class="o">+</span> <span class="mf">1.024e8</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="mf">2.048e4</span> <span class="o">-</span> <span class="n">mv</span> <span class="o">*</span> <span class="mf">2.0e5</span><span class="p">)</span>
    <span class="n">t</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">/</span> <span class="p">(</span><span class="n">a0</span> <span class="o">+</span> <span class="n">a1</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">r</span><span class="p">)</span> <span class="o">+</span> <span class="n">a2</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">r</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="n">a3</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">r</span><span class="p">)</span><span class="o">**</span><span class="mi">3</span><span class="p">)</span> <span class="o">-</span> <span class="mf">273.15</span>
    <span class="k">return</span> <span class="n">t</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="ion_functions.data.ctd_functions.ctd_sbe37im_condwat" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">ctd_sbe37im_condwat</span><span class="p">(</span><span class="n">c0</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Description:</p>
<pre><code>OOI Level 1 Conductivity core data product, which is calculated using
data from the Sea-Bird Electronics conductivity, temperature and depth
(CTD) family of instruments.

This data product is derived from SBE 37IM instruments and applies to
CTDMO instruments, all series, and specifically processes telemetered and
recovered_host (not recovered_instrument) data.
</code></pre>
<p>Implemented by:</p>
<pre><code>2014-02-05: Russell Desiderio. Initial Code
</code></pre>
<p>Usage:</p>
<pre><code>c = ctd_sbe37im_condwat(c0)

    where

c = sea water conductivity (CONDWAT_L1) [S m-1]
c0 = sea water conductivity (CONDWAT_L0) [counts]
</code></pre>
<p>References:</p>
<pre><code>OOI (2012). Data Product Specification for Conductivity. Document
    Control Number 1341-00030. https://alfresco.oceanobservatories.org/
    (See: Company Home &gt;&gt; OOI &gt;&gt; Controlled &gt;&gt; 1000 System Level &gt;&gt;
    1341-00030_Data_Product_SPEC_CONDWAT_OOI.pdf)
</code></pre>

            <details class="quote">
              <summary>Source code in <code>ion_functions/data/ctd_functions.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">607</span>
<span class="normal">608</span>
<span class="normal">609</span>
<span class="normal">610</span>
<span class="normal">611</span>
<span class="normal">612</span>
<span class="normal">613</span>
<span class="normal">614</span>
<span class="normal">615</span>
<span class="normal">616</span>
<span class="normal">617</span>
<span class="normal">618</span>
<span class="normal">619</span>
<span class="normal">620</span>
<span class="normal">621</span>
<span class="normal">622</span>
<span class="normal">623</span>
<span class="normal">624</span>
<span class="normal">625</span>
<span class="normal">626</span>
<span class="normal">627</span>
<span class="normal">628</span>
<span class="normal">629</span>
<span class="normal">630</span>
<span class="normal">631</span>
<span class="normal">632</span>
<span class="normal">633</span>
<span class="normal">634</span>
<span class="normal">635</span>
<span class="normal">636</span>
<span class="normal">637</span>
<span class="normal">638</span>
<span class="normal">639</span>
<span class="normal">640</span>
<span class="normal">641</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">ctd_sbe37im_condwat</span><span class="p">(</span><span class="n">c0</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Description:</span>

<span class="sd">        OOI Level 1 Conductivity core data product, which is calculated using</span>
<span class="sd">        data from the Sea-Bird Electronics conductivity, temperature and depth</span>
<span class="sd">        (CTD) family of instruments.</span>

<span class="sd">        This data product is derived from SBE 37IM instruments and applies to</span>
<span class="sd">        CTDMO instruments, all series, and specifically processes telemetered and</span>
<span class="sd">        recovered_host (not recovered_instrument) data.</span>

<span class="sd">    Implemented by:</span>

<span class="sd">        2014-02-05: Russell Desiderio. Initial Code</span>

<span class="sd">    Usage:</span>

<span class="sd">        c = ctd_sbe37im_condwat(c0)</span>

<span class="sd">            where</span>

<span class="sd">        c = sea water conductivity (CONDWAT_L1) [S m-1]</span>
<span class="sd">        c0 = sea water conductivity (CONDWAT_L0) [counts]</span>

<span class="sd">    References:</span>

<span class="sd">        OOI (2012). Data Product Specification for Conductivity. Document</span>
<span class="sd">            Control Number 1341-00030. https://alfresco.oceanobservatories.org/</span>
<span class="sd">            (See: Company Home &gt;&gt; OOI &gt;&gt; Controlled &gt;&gt; 1000 System Level &gt;&gt;</span>
<span class="sd">            1341-00030_Data_Product_SPEC_CONDWAT_OOI.pdf)</span>
<span class="sd">   &quot;&quot;&quot;</span>

    <span class="n">c</span> <span class="o">=</span> <span class="n">c0</span> <span class="o">/</span> <span class="mf">100000.0</span> <span class="o">-</span> <span class="mf">0.5</span>
    <span class="k">return</span> <span class="n">c</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="ion_functions.data.ctd_functions.ctd_sbe37im_condwat_instrument_recovered" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">ctd_sbe37im_condwat_instrument_recovered</span><span class="p">(</span><span class="n">c0</span><span class="p">,</span> <span class="n">t1</span><span class="p">,</span> <span class="n">p1</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span class="n">h</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">,</span> <span class="n">cpcor</span><span class="p">,</span> <span class="n">ctcor</span><span class="p">,</span> <span class="n">wbotc</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Description:</p>
<pre><code>OOI Level 1 Conductivity core data product, which is calculated using
data from the Sea-Bird Electronics conductivity, temperature and depth
(CTD) family of instruments.

This data product is derived from SBE 37IM instruments, all series, and
specifically processes data recovered directly from the CTD itself.
</code></pre>
<p>Implemented by:</p>
<pre><code>2016-06-16: Russell Desiderio. Initial Code
2023-08-15: Samuel Dahlberg. Removed use of numexpr
</code></pre>
<p>Usage:</p>
<pre><code>c = ctd_sbe37im_condwat_instrument_recovered(c0, t1, p1, g, h, i, j, cpcor, ctcor, wbotc)

    where

c = sea water conductivity (CONDWAT_L1) [S m-1]
c0 = sea water conductivity (CONDWAT_L0) [counts] as recovered from the CTD itself
t1 = sea water temperature (TEMPWAT_L1) [deg_C]
p1 = sea water pressure (PRESWAT_L1) [dbar]
g = conductivity calibration coefficients
h = conductivity calibration coefficients
i = conductivity calibration coefficients
j = conductivity calibration coefficients
cpcor = conductivity calibration coefficients
ctcor = conductivity calibration coefficients
wbotc = conductivity calibration coefficients
</code></pre>
<p>References:</p>
<pre><code>As of June 2016 the following DPS does not contain this specification.

OOI (2012). Data Product Specification for Conductivity. Document
    Control Number 1341-00030. https://alfresco.oceanobservatories.org/
    (See: Company Home &gt;&gt; OOI &gt;&gt; Controlled &gt;&gt; 1000 System Level &gt;&gt;
    1341-00030_Data_Product_SPEC_CONDWAT_OOI.pdf)
</code></pre>

            <details class="quote">
              <summary>Source code in <code>ion_functions/data/ctd_functions.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">556</span>
<span class="normal">557</span>
<span class="normal">558</span>
<span class="normal">559</span>
<span class="normal">560</span>
<span class="normal">561</span>
<span class="normal">562</span>
<span class="normal">563</span>
<span class="normal">564</span>
<span class="normal">565</span>
<span class="normal">566</span>
<span class="normal">567</span>
<span class="normal">568</span>
<span class="normal">569</span>
<span class="normal">570</span>
<span class="normal">571</span>
<span class="normal">572</span>
<span class="normal">573</span>
<span class="normal">574</span>
<span class="normal">575</span>
<span class="normal">576</span>
<span class="normal">577</span>
<span class="normal">578</span>
<span class="normal">579</span>
<span class="normal">580</span>
<span class="normal">581</span>
<span class="normal">582</span>
<span class="normal">583</span>
<span class="normal">584</span>
<span class="normal">585</span>
<span class="normal">586</span>
<span class="normal">587</span>
<span class="normal">588</span>
<span class="normal">589</span>
<span class="normal">590</span>
<span class="normal">591</span>
<span class="normal">592</span>
<span class="normal">593</span>
<span class="normal">594</span>
<span class="normal">595</span>
<span class="normal">596</span>
<span class="normal">597</span>
<span class="normal">598</span>
<span class="normal">599</span>
<span class="normal">600</span>
<span class="normal">601</span>
<span class="normal">602</span>
<span class="normal">603</span>
<span class="normal">604</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">ctd_sbe37im_condwat_instrument_recovered</span><span class="p">(</span><span class="n">c0</span><span class="p">,</span> <span class="n">t1</span><span class="p">,</span> <span class="n">p1</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span class="n">h</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">,</span> <span class="n">cpcor</span><span class="p">,</span> <span class="n">ctcor</span><span class="p">,</span> <span class="n">wbotc</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Description:</span>

<span class="sd">        OOI Level 1 Conductivity core data product, which is calculated using</span>
<span class="sd">        data from the Sea-Bird Electronics conductivity, temperature and depth</span>
<span class="sd">        (CTD) family of instruments.</span>

<span class="sd">        This data product is derived from SBE 37IM instruments, all series, and</span>
<span class="sd">        specifically processes data recovered directly from the CTD itself.</span>

<span class="sd">    Implemented by:</span>

<span class="sd">        2016-06-16: Russell Desiderio. Initial Code</span>
<span class="sd">        2023-08-15: Samuel Dahlberg. Removed use of numexpr</span>

<span class="sd">    Usage:</span>

<span class="sd">        c = ctd_sbe37im_condwat_instrument_recovered(c0, t1, p1, g, h, i, j, cpcor, ctcor, wbotc)</span>

<span class="sd">            where</span>

<span class="sd">        c = sea water conductivity (CONDWAT_L1) [S m-1]</span>
<span class="sd">        c0 = sea water conductivity (CONDWAT_L0) [counts] as recovered from the CTD itself</span>
<span class="sd">        t1 = sea water temperature (TEMPWAT_L1) [deg_C]</span>
<span class="sd">        p1 = sea water pressure (PRESWAT_L1) [dbar]</span>
<span class="sd">        g = conductivity calibration coefficients</span>
<span class="sd">        h = conductivity calibration coefficients</span>
<span class="sd">        i = conductivity calibration coefficients</span>
<span class="sd">        j = conductivity calibration coefficients</span>
<span class="sd">        cpcor = conductivity calibration coefficients</span>
<span class="sd">        ctcor = conductivity calibration coefficients</span>
<span class="sd">        wbotc = conductivity calibration coefficients</span>

<span class="sd">    References:</span>

<span class="sd">        As of June 2016 the following DPS does not contain this specification.</span>

<span class="sd">        OOI (2012). Data Product Specification for Conductivity. Document</span>
<span class="sd">            Control Number 1341-00030. https://alfresco.oceanobservatories.org/</span>
<span class="sd">            (See: Company Home &gt;&gt; OOI &gt;&gt; Controlled &gt;&gt; 1000 System Level &gt;&gt;</span>
<span class="sd">            1341-00030_Data_Product_SPEC_CONDWAT_OOI.pdf)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># convert raw conductivity measurement to frequency</span>
    <span class="n">f</span> <span class="o">=</span> <span class="p">(</span><span class="n">c0</span> <span class="o">/</span> <span class="mf">256.0</span><span class="p">)</span> <span class="o">/</span> <span class="mf">1000.0</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="mf">1.0</span> <span class="o">+</span> <span class="n">wbotc</span> <span class="o">*</span> <span class="n">t1</span><span class="p">)</span>

    <span class="c1"># calculate conductivity [S m-1]</span>
    <span class="n">c</span> <span class="o">=</span> <span class="p">(</span><span class="n">g</span> <span class="o">+</span> <span class="n">h</span> <span class="o">*</span> <span class="n">f</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="n">i</span> <span class="o">*</span> <span class="n">f</span><span class="o">**</span><span class="mi">3</span> <span class="o">+</span> <span class="n">j</span> <span class="o">*</span> <span class="n">f</span><span class="o">**</span><span class="mi">4</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="n">ctcor</span> <span class="o">*</span> <span class="n">t1</span> <span class="o">+</span> <span class="n">cpcor</span> <span class="o">*</span> <span class="n">p1</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">c</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="ion_functions.data.ctd_functions.ctd_sbe37im_preswat" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">ctd_sbe37im_preswat</span><span class="p">(</span><span class="n">p0</span><span class="p">,</span> <span class="n">p_range_psia</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Description:</p>
<pre><code>OOI Level 1 Pressure (Depth) data product, which is calculated using
data from the Sea-Bird Electronics conductivity, temperature and depth
(CTD) family of instruments.

This data product is derived from SBE 37IM instruments and applies to
CTDMO instruments, all series, and specifically processes telemetered and
recovered_host (not recovered_instrument) data.
</code></pre>
<p>Implemented by:</p>
<pre><code>2014-02-05: Russell Desiderio. Initial Code
</code></pre>
<p>Usage:</p>
<pre><code>p = ctd_sbe37im_preswat(p0, p_range_psia)

    where

p = sea water pressure (PRESWAT_L1) [dbar]
p0 = raw pressure (PRESWAT_L0) [counts]
p_range_psia = pressure range calibration coefficient [psia]
</code></pre>
<p>References:</p>
<pre><code>OOI (2012). Data Product Specification for Pressure (Depth). Document
    Control Number 1341-00020. https://alfresco.oceanobservatories.org/
    (See: Company Home &gt;&gt; OOI &gt;&gt; Controlled &gt;&gt; 1000 System Level &gt;&gt;
    1341-00020_Data_Product_SPEC_PRESWAT_OOI.pdf)
</code></pre>

            <details class="quote">
              <summary>Source code in <code>ion_functions/data/ctd_functions.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span>
<span class="normal">403</span>
<span class="normal">404</span>
<span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span>
<span class="normal">409</span>
<span class="normal">410</span>
<span class="normal">411</span>
<span class="normal">412</span>
<span class="normal">413</span>
<span class="normal">414</span>
<span class="normal">415</span>
<span class="normal">416</span>
<span class="normal">417</span>
<span class="normal">418</span>
<span class="normal">419</span>
<span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span>
<span class="normal">424</span>
<span class="normal">425</span>
<span class="normal">426</span>
<span class="normal">427</span>
<span class="normal">428</span>
<span class="normal">429</span>
<span class="normal">430</span>
<span class="normal">431</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">ctd_sbe37im_preswat</span><span class="p">(</span><span class="n">p0</span><span class="p">,</span> <span class="n">p_range_psia</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Description:</span>

<span class="sd">        OOI Level 1 Pressure (Depth) data product, which is calculated using</span>
<span class="sd">        data from the Sea-Bird Electronics conductivity, temperature and depth</span>
<span class="sd">        (CTD) family of instruments.</span>

<span class="sd">        This data product is derived from SBE 37IM instruments and applies to</span>
<span class="sd">        CTDMO instruments, all series, and specifically processes telemetered and</span>
<span class="sd">        recovered_host (not recovered_instrument) data.</span>

<span class="sd">    Implemented by:</span>

<span class="sd">        2014-02-05: Russell Desiderio. Initial Code</span>

<span class="sd">    Usage:</span>

<span class="sd">        p = ctd_sbe37im_preswat(p0, p_range_psia)</span>

<span class="sd">            where</span>

<span class="sd">        p = sea water pressure (PRESWAT_L1) [dbar]</span>
<span class="sd">        p0 = raw pressure (PRESWAT_L0) [counts]</span>
<span class="sd">        p_range_psia = pressure range calibration coefficient [psia]</span>

<span class="sd">    References:</span>

<span class="sd">        OOI (2012). Data Product Specification for Pressure (Depth). Document</span>
<span class="sd">            Control Number 1341-00020. https://alfresco.oceanobservatories.org/</span>
<span class="sd">            (See: Company Home &gt;&gt; OOI &gt;&gt; Controlled &gt;&gt; 1000 System Level &gt;&gt;</span>
<span class="sd">            1341-00020_Data_Product_SPEC_PRESWAT_OOI.pdf)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># compute pressure range in units of dbar</span>
    <span class="n">p_range_dbar</span> <span class="o">=</span> <span class="p">(</span><span class="n">p_range_psia</span> <span class="o">-</span> <span class="mf">14.7</span><span class="p">)</span> <span class="o">*</span> <span class="mf">0.6894757</span>

    <span class="c1"># compute pressure in dbar and return</span>
    <span class="n">p_dbar</span> <span class="o">=</span> <span class="n">p0</span> <span class="o">*</span> <span class="n">p_range_dbar</span> <span class="o">/</span> <span class="p">(</span><span class="mf">0.85</span> <span class="o">*</span> <span class="mf">65536.0</span><span class="p">)</span> <span class="o">-</span> <span class="mf">0.05</span> <span class="o">*</span> <span class="n">p_range_dbar</span>
    <span class="k">return</span> <span class="n">p_dbar</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="ion_functions.data.ctd_functions.ctd_sbe37im_preswat_instrument_recovered" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">ctd_sbe37im_preswat_instrument_recovered</span><span class="p">(</span><span class="n">p0</span><span class="p">,</span> <span class="n">pt0</span><span class="p">,</span> <span class="n">ptempa0</span><span class="p">,</span> <span class="n">ptempa1</span><span class="p">,</span> <span class="n">ptempa2</span><span class="p">,</span> <span class="n">ptca0</span><span class="p">,</span> <span class="n">ptca1</span><span class="p">,</span> <span class="n">ptca2</span><span class="p">,</span> <span class="n">ptcb0</span><span class="p">,</span> <span class="n">ptcb1</span><span class="p">,</span> <span class="n">ptcb2</span><span class="p">,</span> <span class="n">pa0</span><span class="p">,</span> <span class="n">pa1</span><span class="p">,</span> <span class="n">pa2</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Description:</p>
<pre><code>OOI Level 1 Pressure (Depth) data product, which is calculated using
data from the Sea-Bird Electronics conductivity, temperature and depth
(CTD) family of instruments.

This data product is derived from SBE 37IM instruments, all series, and
specifically processes data recovered directly from the CTD itself.
</code></pre>
<p>Implemented by:</p>
<pre><code>2016-06-16: Russell Desiderio. Initial Code
</code></pre>
<p>Usage:</p>
<pre><code>p = ctd_sbe37im_preswat_instrument_recovered(p0, pt0, ptempa0, ptempa1, ptempa2,
                                             ptca0, ptca1, ptca2, ptcb0, ptcb1, ptcb2,
                                             pa0, pa1, pa2)

    where

p = sea water pressure (PRESWAT_L1) [dbar]
p0 = raw pressure (PRESWAT_L0) [counts] as recovered from the CTD itself
pt0 = raw temperature from pressure sensor thermistor [counts]
ptempa0 = strain gauge pressure calibration coefficients
ptempa1 = strain gauge pressure calibration coefficients
ptempa2 = strain gauge pressure calibration coefficients
ptca0 = strain gauge pressure calibration coefficients
ptca1 = strain gauge pressure calibration coefficients
ptca2 = strain gauge pressure calibration coefficients
ptcb0 = strain gauge pressure calibration coefficients
ptcb1 = strain gauge pressure calibration coefficients
ptcb2 = strain gauge pressure calibration coefficients
pa0 = strain gauge pressure calibration coefficients
pa1 = strain gauge pressure calibration coefficients
pa2 = strain gauge pressure calibration coefficients
</code></pre>
<p>References:</p>
<pre><code>As of June 2016 the following DPS does not contain this specification.

OOI (2012). Data Product Specification for Pressure (Depth). Document
    Control Number 1341-00020. https://alfresco.oceanobservatories.org/
    (See: Company Home &gt;&gt; OOI &gt;&gt; Controlled &gt;&gt; 1000 System Level &gt;&gt;
    1341-00020_Data_Product_SPEC_PRESWAT_OOI.pdf)
</code></pre>

            <details class="quote">
              <summary>Source code in <code>ion_functions/data/ctd_functions.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">ctd_sbe37im_preswat_instrument_recovered</span><span class="p">(</span><span class="n">p0</span><span class="p">,</span> <span class="n">pt0</span><span class="p">,</span> <span class="n">ptempa0</span><span class="p">,</span> <span class="n">ptempa1</span><span class="p">,</span> <span class="n">ptempa2</span><span class="p">,</span>
                                             <span class="n">ptca0</span><span class="p">,</span> <span class="n">ptca1</span><span class="p">,</span> <span class="n">ptca2</span><span class="p">,</span> <span class="n">ptcb0</span><span class="p">,</span> <span class="n">ptcb1</span><span class="p">,</span> <span class="n">ptcb2</span><span class="p">,</span>
                                             <span class="n">pa0</span><span class="p">,</span> <span class="n">pa1</span><span class="p">,</span> <span class="n">pa2</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Description:</span>

<span class="sd">        OOI Level 1 Pressure (Depth) data product, which is calculated using</span>
<span class="sd">        data from the Sea-Bird Electronics conductivity, temperature and depth</span>
<span class="sd">        (CTD) family of instruments.</span>

<span class="sd">        This data product is derived from SBE 37IM instruments, all series, and</span>
<span class="sd">        specifically processes data recovered directly from the CTD itself.</span>

<span class="sd">    Implemented by:</span>

<span class="sd">        2016-06-16: Russell Desiderio. Initial Code</span>

<span class="sd">    Usage:</span>

<span class="sd">        p = ctd_sbe37im_preswat_instrument_recovered(p0, pt0, ptempa0, ptempa1, ptempa2,</span>
<span class="sd">                                                     ptca0, ptca1, ptca2, ptcb0, ptcb1, ptcb2,</span>
<span class="sd">                                                     pa0, pa1, pa2)</span>

<span class="sd">            where</span>

<span class="sd">        p = sea water pressure (PRESWAT_L1) [dbar]</span>
<span class="sd">        p0 = raw pressure (PRESWAT_L0) [counts] as recovered from the CTD itself</span>
<span class="sd">        pt0 = raw temperature from pressure sensor thermistor [counts]</span>
<span class="sd">        ptempa0 = strain gauge pressure calibration coefficients</span>
<span class="sd">        ptempa1 = strain gauge pressure calibration coefficients</span>
<span class="sd">        ptempa2 = strain gauge pressure calibration coefficients</span>
<span class="sd">        ptca0 = strain gauge pressure calibration coefficients</span>
<span class="sd">        ptca1 = strain gauge pressure calibration coefficients</span>
<span class="sd">        ptca2 = strain gauge pressure calibration coefficients</span>
<span class="sd">        ptcb0 = strain gauge pressure calibration coefficients</span>
<span class="sd">        ptcb1 = strain gauge pressure calibration coefficients</span>
<span class="sd">        ptcb2 = strain gauge pressure calibration coefficients</span>
<span class="sd">        pa0 = strain gauge pressure calibration coefficients</span>
<span class="sd">        pa1 = strain gauge pressure calibration coefficients</span>
<span class="sd">        pa2 = strain gauge pressure calibration coefficients</span>

<span class="sd">    References:</span>

<span class="sd">        As of June 2016 the following DPS does not contain this specification.</span>

<span class="sd">        OOI (2012). Data Product Specification for Pressure (Depth). Document</span>
<span class="sd">            Control Number 1341-00020. https://alfresco.oceanobservatories.org/</span>
<span class="sd">            (See: Company Home &gt;&gt; OOI &gt;&gt; Controlled &gt;&gt; 1000 System Level &gt;&gt;</span>
<span class="sd">            1341-00020_Data_Product_SPEC_PRESWAT_OOI.pdf)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># compute calibration parameters</span>
    <span class="n">t</span> <span class="o">=</span> <span class="n">ptempa0</span> <span class="o">+</span> <span class="n">ptempa1</span> <span class="o">*</span> <span class="n">pt0</span> <span class="o">+</span> <span class="n">ptempa2</span> <span class="o">*</span> <span class="n">pt0</span><span class="o">**</span><span class="mi">2</span>
    <span class="n">x</span> <span class="o">=</span> <span class="n">p0</span> <span class="o">-</span> <span class="n">ptca0</span> <span class="o">-</span> <span class="n">ptca1</span> <span class="o">*</span> <span class="n">t</span> <span class="o">-</span> <span class="n">ptca2</span> <span class="o">*</span> <span class="n">t</span><span class="o">**</span><span class="mi">2</span>
    <span class="n">n</span> <span class="o">=</span> <span class="n">x</span> <span class="o">*</span> <span class="n">ptcb0</span> <span class="o">/</span> <span class="p">(</span><span class="n">ptcb0</span> <span class="o">+</span> <span class="n">ptcb1</span> <span class="o">*</span> <span class="n">t</span> <span class="o">+</span> <span class="n">ptcb2</span> <span class="o">*</span> <span class="n">t</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>

    <span class="c1"># compute pressure in psi, rescale and compute in dbar and return</span>
    <span class="n">p_psi</span> <span class="o">=</span> <span class="n">pa0</span> <span class="o">+</span> <span class="n">pa1</span> <span class="o">*</span> <span class="n">n</span> <span class="o">+</span> <span class="n">pa2</span> <span class="o">*</span> <span class="n">n</span><span class="o">**</span><span class="mi">2</span>
    <span class="n">p_dbar</span> <span class="o">=</span> <span class="p">(</span><span class="n">p_psi</span> <span class="o">*</span> <span class="mf">0.689475729</span><span class="p">)</span> <span class="o">-</span> <span class="mf">10.1325</span>
    <span class="k">return</span> <span class="n">p_dbar</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="ion_functions.data.ctd_functions.ctd_sbe37im_tempwat" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">ctd_sbe37im_tempwat</span><span class="p">(</span><span class="n">t0</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Description:</p>
<pre><code>OOI Level 1 Water Temperature data product, which is calculated using
data from the Sea-Bird Electronics conductivity, temperature and depth
(CTD) family of instruments.

This data product is derived from SBE 37IM instruments and applies to
CTDMO instruments, all series, and specifically processes telemetered and
recovered_host (not recovered_instrument) data.
</code></pre>
<p>Implemented by:</p>
<pre><code>2014-02-05: Russell Desiderio. Initial Code
</code></pre>
<p>Usage:</p>
<pre><code>t = ctd_sbe37im_tempwat(t0)

    where

t = sea water temperature (TEMPWAT_L1) [deg_C]
t0 = raw temperature (TEMPWAT_L0) [counts]
</code></pre>
<p>References:</p>
<pre><code>OOI (2012). Data Product Specification for Water Temperature. Document
    Control Number 1341-00010. https://alfresco.oceanobservatories.org/
    (See: Company Home &gt;&gt; OOI &gt;&gt; Controlled &gt;&gt; 1000 System Level &gt;&gt;
    1341-00010_Data_Product_SPEC_TEMPWAT_OOI.pdf)
</code></pre>

            <details class="quote">
              <summary>Source code in <code>ion_functions/data/ctd_functions.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">ctd_sbe37im_tempwat</span><span class="p">(</span><span class="n">t0</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Description:</span>

<span class="sd">        OOI Level 1 Water Temperature data product, which is calculated using</span>
<span class="sd">        data from the Sea-Bird Electronics conductivity, temperature and depth</span>
<span class="sd">        (CTD) family of instruments.</span>

<span class="sd">        This data product is derived from SBE 37IM instruments and applies to</span>
<span class="sd">        CTDMO instruments, all series, and specifically processes telemetered and</span>
<span class="sd">        recovered_host (not recovered_instrument) data.</span>

<span class="sd">    Implemented by:</span>

<span class="sd">        2014-02-05: Russell Desiderio. Initial Code</span>

<span class="sd">    Usage:</span>

<span class="sd">        t = ctd_sbe37im_tempwat(t0)</span>

<span class="sd">            where</span>

<span class="sd">        t = sea water temperature (TEMPWAT_L1) [deg_C]</span>
<span class="sd">        t0 = raw temperature (TEMPWAT_L0) [counts]</span>

<span class="sd">    References:</span>

<span class="sd">        OOI (2012). Data Product Specification for Water Temperature. Document</span>
<span class="sd">            Control Number 1341-00010. https://alfresco.oceanobservatories.org/</span>
<span class="sd">            (See: Company Home &gt;&gt; OOI &gt;&gt; Controlled &gt;&gt; 1000 System Level &gt;&gt;</span>
<span class="sd">            1341-00010_Data_Product_SPEC_TEMPWAT_OOI.pdf)</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">t</span> <span class="o">=</span> <span class="n">t0</span> <span class="o">/</span> <span class="mf">10000.0</span> <span class="o">-</span> <span class="mf">10.0</span>
    <span class="k">return</span> <span class="n">t</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="ion_functions.data.ctd_functions.ctd_sbe37im_tempwat_instrument_recovered" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">ctd_sbe37im_tempwat_instrument_recovered</span><span class="p">(</span><span class="n">t0</span><span class="p">,</span> <span class="n">a0</span><span class="p">,</span> <span class="n">a1</span><span class="p">,</span> <span class="n">a2</span><span class="p">,</span> <span class="n">a3</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Description:</p>
<pre><code>OOI Level 1 Water Temperature data product, which is calculated using
data from the Sea-Bird Electronics conductivity, temperature and depth
(CTD) family of instruments.

This data product is derived from SBE 37IM instruments, all series, and
specifically processes data recovered directly from the CTD itself.
</code></pre>
<p>Implemented by:</p>
<pre><code>2016-06-16: Russell Desiderio. Initial Code
2023-08-15: Samuel Dahlberg. Removed use of numexpr
</code></pre>
<p>Usage:</p>
<pre><code>t = ctd_sbe37im_tempwat_instrument_recovered(t0, a0, a1, a2, a3)

    where

t = sea water temperature (TEMPWAT_L1) [deg_C]
t0 = raw temperature (TEMPWAT_L0) [counts] as recovered from the CTD itself
a0 = temperature calibration coefficient
a1 = temperature calibration coefficient
a2 = temperature calibration coefficient
a3 = temperature calibration coefficient
</code></pre>
<p>References:</p>
<pre><code>As of June 2016 the following DPS does not contain this specification.

OOI (2012). Data Product Specification for Water Temperature. Document
    Control Number 1341-00010. https://alfresco.oceanobservatories.org/
    (See: Company Home &gt;&gt; OOI &gt;&gt; Controlled &gt;&gt; 1000 System Level &gt;&gt;
    1341-00010_Data_Product_SPEC_TEMPWAT_OOI.pdf)
</code></pre>

            <details class="quote">
              <summary>Source code in <code>ion_functions/data/ctd_functions.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">ctd_sbe37im_tempwat_instrument_recovered</span><span class="p">(</span><span class="n">t0</span><span class="p">,</span> <span class="n">a0</span><span class="p">,</span> <span class="n">a1</span><span class="p">,</span> <span class="n">a2</span><span class="p">,</span> <span class="n">a3</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Description:</span>

<span class="sd">        OOI Level 1 Water Temperature data product, which is calculated using</span>
<span class="sd">        data from the Sea-Bird Electronics conductivity, temperature and depth</span>
<span class="sd">        (CTD) family of instruments.</span>

<span class="sd">        This data product is derived from SBE 37IM instruments, all series, and</span>
<span class="sd">        specifically processes data recovered directly from the CTD itself.</span>

<span class="sd">    Implemented by:</span>

<span class="sd">        2016-06-16: Russell Desiderio. Initial Code</span>
<span class="sd">        2023-08-15: Samuel Dahlberg. Removed use of numexpr</span>

<span class="sd">    Usage:</span>

<span class="sd">        t = ctd_sbe37im_tempwat_instrument_recovered(t0, a0, a1, a2, a3)</span>

<span class="sd">            where</span>

<span class="sd">        t = sea water temperature (TEMPWAT_L1) [deg_C]</span>
<span class="sd">        t0 = raw temperature (TEMPWAT_L0) [counts] as recovered from the CTD itself</span>
<span class="sd">        a0 = temperature calibration coefficient</span>
<span class="sd">        a1 = temperature calibration coefficient</span>
<span class="sd">        a2 = temperature calibration coefficient</span>
<span class="sd">        a3 = temperature calibration coefficient</span>

<span class="sd">    References:</span>

<span class="sd">        As of June 2016 the following DPS does not contain this specification.</span>

<span class="sd">        OOI (2012). Data Product Specification for Water Temperature. Document</span>
<span class="sd">            Control Number 1341-00010. https://alfresco.oceanobservatories.org/</span>
<span class="sd">            (See: Company Home &gt;&gt; OOI &gt;&gt; Controlled &gt;&gt; 1000 System Level &gt;&gt;</span>
<span class="sd">            1341-00010_Data_Product_SPEC_TEMPWAT_OOI.pdf)</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">t</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">/</span> <span class="p">(</span><span class="n">a0</span> <span class="o">+</span> <span class="n">a1</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">t0</span><span class="p">)</span> <span class="o">+</span> <span class="n">a2</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">t0</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="n">a3</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">t0</span><span class="p">)</span><span class="o">**</span><span class="mi">3</span><span class="p">)</span> <span class="o">-</span> <span class="mf">273.15</span>
    <span class="k">return</span> <span class="n">t</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="ion_functions.data.ctd_functions.ctd_sbe52mp_condwat" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">ctd_sbe52mp_condwat</span><span class="p">(</span><span class="n">c0</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Description:</p>
<pre><code>OOI Level 1 Conductivity core data product, which is calculated using
data from the Sea-Bird Electronics conductivity, temperature and depth
(CTD) family of instruments.

This data product is derived from SBE 52MP instruments and applies to
CTDPF instruments, C,K,L series.
</code></pre>
<p>Implemented by:</p>
<pre><code>2014-02-17: Russell Desiderio. Initial Code
</code></pre>
<p>Usage:</p>
<pre><code>c = ctd_sbe52mp_condwat(c0)

    where

c = sea water conductivity (CONDWAT_L1) [S m-1]
c0 = sea water conductivity (CONDWAT_L0) [counts]
</code></pre>
<p>References:</p>
<pre><code>OOI (2012). Data Product Specification for Conductivity. Document
    Control Number 1341-00030. https://alfresco.oceanobservatories.org/
    (See: Company Home &gt;&gt; OOI &gt;&gt; Controlled &gt;&gt; 1000 System Level &gt;&gt;
    1341-00030_Data_Product_SPEC_CONDWAT_OOI.pdf)
</code></pre>

            <details class="quote">
              <summary>Source code in <code>ion_functions/data/ctd_functions.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">644</span>
<span class="normal">645</span>
<span class="normal">646</span>
<span class="normal">647</span>
<span class="normal">648</span>
<span class="normal">649</span>
<span class="normal">650</span>
<span class="normal">651</span>
<span class="normal">652</span>
<span class="normal">653</span>
<span class="normal">654</span>
<span class="normal">655</span>
<span class="normal">656</span>
<span class="normal">657</span>
<span class="normal">658</span>
<span class="normal">659</span>
<span class="normal">660</span>
<span class="normal">661</span>
<span class="normal">662</span>
<span class="normal">663</span>
<span class="normal">664</span>
<span class="normal">665</span>
<span class="normal">666</span>
<span class="normal">667</span>
<span class="normal">668</span>
<span class="normal">669</span>
<span class="normal">670</span>
<span class="normal">671</span>
<span class="normal">672</span>
<span class="normal">673</span>
<span class="normal">674</span>
<span class="normal">675</span>
<span class="normal">676</span>
<span class="normal">677</span>
<span class="normal">678</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">ctd_sbe52mp_condwat</span><span class="p">(</span><span class="n">c0</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Description:</span>

<span class="sd">        OOI Level 1 Conductivity core data product, which is calculated using</span>
<span class="sd">        data from the Sea-Bird Electronics conductivity, temperature and depth</span>
<span class="sd">        (CTD) family of instruments.</span>

<span class="sd">        This data product is derived from SBE 52MP instruments and applies to</span>
<span class="sd">        CTDPF instruments, C,K,L series.</span>

<span class="sd">    Implemented by:</span>

<span class="sd">        2014-02-17: Russell Desiderio. Initial Code</span>

<span class="sd">    Usage:</span>

<span class="sd">        c = ctd_sbe52mp_condwat(c0)</span>

<span class="sd">            where</span>

<span class="sd">        c = sea water conductivity (CONDWAT_L1) [S m-1]</span>
<span class="sd">        c0 = sea water conductivity (CONDWAT_L0) [counts]</span>

<span class="sd">    References:</span>

<span class="sd">        OOI (2012). Data Product Specification for Conductivity. Document</span>
<span class="sd">            Control Number 1341-00030. https://alfresco.oceanobservatories.org/</span>
<span class="sd">            (See: Company Home &gt;&gt; OOI &gt;&gt; Controlled &gt;&gt; 1000 System Level &gt;&gt;</span>
<span class="sd">            1341-00030_Data_Product_SPEC_CONDWAT_OOI.pdf)</span>
<span class="sd">   &quot;&quot;&quot;</span>

    <span class="n">c_mmho_cm</span> <span class="o">=</span> <span class="n">c0</span> <span class="o">/</span> <span class="mf">10000.0</span> <span class="o">-</span> <span class="mf">0.5</span>
    <span class="n">c_S_m</span> <span class="o">=</span> <span class="mf">0.1</span> <span class="o">*</span> <span class="n">c_mmho_cm</span>
    <span class="k">return</span> <span class="n">c_S_m</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="ion_functions.data.ctd_functions.ctd_sbe52mp_preswat" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">ctd_sbe52mp_preswat</span><span class="p">(</span><span class="n">p0</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Description:</p>
<pre><code>OOI Level 1 Pressure (Depth) data product, which is calculated using
data from the Sea-Bird Electronics conductivity, temperature and depth
(CTD) family of instruments.

This data product is derived from SBE 52MP instruments and applies to
CTDPF instruments, C,K,L series.
</code></pre>
<p>Implemented by:</p>
<pre><code>2014-02-17: Russell Desiderio. Initial Code
</code></pre>
<p>Usage:</p>
<pre><code>p = ctd_sbe52mp_preswat(p0)

    where

p = sea water pressure (PRESWAT_L1) [dbar]
p0 = raw pressure (PRESWAT_L0) [counts]
</code></pre>
<p>References:</p>
<pre><code>OOI (2012). Data Product Specification for Pressure (Depth). Document
    Control Number 1341-00020. https://alfresco.oceanobservatories.org/
    (See: Company Home &gt;&gt; OOI &gt;&gt; Controlled &gt;&gt; 1000 System Level &gt;&gt;
    1341-00020_Data_Product_SPEC_PRESWAT_OOI.pdf)
</code></pre>

            <details class="quote">
              <summary>Source code in <code>ion_functions/data/ctd_functions.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">471</span>
<span class="normal">472</span>
<span class="normal">473</span>
<span class="normal">474</span>
<span class="normal">475</span>
<span class="normal">476</span>
<span class="normal">477</span>
<span class="normal">478</span>
<span class="normal">479</span>
<span class="normal">480</span>
<span class="normal">481</span>
<span class="normal">482</span>
<span class="normal">483</span>
<span class="normal">484</span>
<span class="normal">485</span>
<span class="normal">486</span>
<span class="normal">487</span>
<span class="normal">488</span>
<span class="normal">489</span>
<span class="normal">490</span>
<span class="normal">491</span>
<span class="normal">492</span>
<span class="normal">493</span>
<span class="normal">494</span>
<span class="normal">495</span>
<span class="normal">496</span>
<span class="normal">497</span>
<span class="normal">498</span>
<span class="normal">499</span>
<span class="normal">500</span>
<span class="normal">501</span>
<span class="normal">502</span>
<span class="normal">503</span>
<span class="normal">504</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">ctd_sbe52mp_preswat</span><span class="p">(</span><span class="n">p0</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Description:</span>

<span class="sd">        OOI Level 1 Pressure (Depth) data product, which is calculated using</span>
<span class="sd">        data from the Sea-Bird Electronics conductivity, temperature and depth</span>
<span class="sd">        (CTD) family of instruments.</span>

<span class="sd">        This data product is derived from SBE 52MP instruments and applies to</span>
<span class="sd">        CTDPF instruments, C,K,L series.</span>

<span class="sd">    Implemented by:</span>

<span class="sd">        2014-02-17: Russell Desiderio. Initial Code</span>

<span class="sd">    Usage:</span>

<span class="sd">        p = ctd_sbe52mp_preswat(p0)</span>

<span class="sd">            where</span>

<span class="sd">        p = sea water pressure (PRESWAT_L1) [dbar]</span>
<span class="sd">        p0 = raw pressure (PRESWAT_L0) [counts]</span>

<span class="sd">    References:</span>

<span class="sd">        OOI (2012). Data Product Specification for Pressure (Depth). Document</span>
<span class="sd">            Control Number 1341-00020. https://alfresco.oceanobservatories.org/</span>
<span class="sd">            (See: Company Home &gt;&gt; OOI &gt;&gt; Controlled &gt;&gt; 1000 System Level &gt;&gt;</span>
<span class="sd">            1341-00020_Data_Product_SPEC_PRESWAT_OOI.pdf)</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">p_dbar</span> <span class="o">=</span> <span class="n">p0</span> <span class="o">/</span> <span class="mf">100.0</span> <span class="o">-</span> <span class="mf">10.0</span>
    <span class="k">return</span> <span class="n">p_dbar</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="ion_functions.data.ctd_functions.ctd_sbe52mp_tempwat" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">ctd_sbe52mp_tempwat</span><span class="p">(</span><span class="n">t0</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Description:</p>
<pre><code>OOI Level 1 Water Temperature data product, which is calculated using
data from the Sea-Bird Electronics conductivity, temperature and depth
(CTD) family of instruments.

This data product is derived from SBE 52MP instruments and applies to
CTDPF instruments, C,K,L series.
</code></pre>
<p>Implemented by:</p>
<pre><code>2014-02-17: Russell Desiderio. Initial Code
</code></pre>
<p>Usage:</p>
<pre><code>t = ctd_sbe52mp_tempwat(t0)

    where

t = sea water temperature (TEMPWAT_L1) [deg_C]
t0 = raw temperature (TEMPWAT_L0) [counts]
</code></pre>
<p>References:</p>
<pre><code>OOI (2012). Data Product Specification for Water Temperature. Document
    Control Number 1341-00010. https://alfresco.oceanobservatories.org/
    (See: Company Home &gt;&gt; OOI &gt;&gt; Controlled &gt;&gt; 1000 System Level &gt;&gt;
    1341-00010_Data_Product_SPEC_TEMPWAT_OOI.pdf)
</code></pre>

            <details class="quote">
              <summary>Source code in <code>ion_functions/data/ctd_functions.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">ctd_sbe52mp_tempwat</span><span class="p">(</span><span class="n">t0</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Description:</span>

<span class="sd">        OOI Level 1 Water Temperature data product, which is calculated using</span>
<span class="sd">        data from the Sea-Bird Electronics conductivity, temperature and depth</span>
<span class="sd">        (CTD) family of instruments.</span>

<span class="sd">        This data product is derived from SBE 52MP instruments and applies to</span>
<span class="sd">        CTDPF instruments, C,K,L series.</span>

<span class="sd">    Implemented by:</span>

<span class="sd">        2014-02-17: Russell Desiderio. Initial Code</span>

<span class="sd">    Usage:</span>

<span class="sd">        t = ctd_sbe52mp_tempwat(t0)</span>

<span class="sd">            where</span>

<span class="sd">        t = sea water temperature (TEMPWAT_L1) [deg_C]</span>
<span class="sd">        t0 = raw temperature (TEMPWAT_L0) [counts]</span>

<span class="sd">    References:</span>

<span class="sd">        OOI (2012). Data Product Specification for Water Temperature. Document</span>
<span class="sd">            Control Number 1341-00010. https://alfresco.oceanobservatories.org/</span>
<span class="sd">            (See: Company Home &gt;&gt; OOI &gt;&gt; Controlled &gt;&gt; 1000 System Level &gt;&gt;</span>
<span class="sd">            1341-00010_Data_Product_SPEC_TEMPWAT_OOI.pdf)</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">t</span> <span class="o">=</span> <span class="n">t0</span> <span class="o">/</span> <span class="mf">10000.0</span> <span class="o">-</span> <span class="mf">5.0</span>
    <span class="k">return</span> <span class="n">t</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.f8cc74c7.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.c8b220af.min.js"></script>
      
    
  </body>
</html>